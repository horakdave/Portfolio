<!DOCTYPE html>
<html>
<head>
    <title>Portfolio</title>
    <link rel="stylesheet" type="text/css" href="sources/style.css">
</head>
<body>
    <header>
        <h1>David Horák</h1>
        <p>Věk: 15 let</p>
        <p>Budoucí student SSPŠ</p>
        <p>Software development</p>
        <p>atd.</p>
    </header>

    <section>
        <h2>Dovednosti</h2>
        <ul>
            <li>HTML</li>
            <li>CSS</li>
            <li>Figma</li>
            <li>Python</li>
            <li>C++</li>
        </ul>
    </section>
    <section>
        <h2>Portfolio</h2>
        <h3>(moje nejlepší projekty)</h3>

        <div class="button-box">
            <a id="button1" href="sources/codebox1.html" class="button">projekt-TNP</a>
            <a id="button2" href="sources/codebox2.html" class="button">"projekt 2"</a>
            <a id="button3" href="sources/codebox3.html" class="button">"projekt 3"</a>
        </div>

        <div class="code-boxes-box" id="code-box-1">
            <div class="code-box">
            <h3>toto pořád testuji</h3>
            <pre>


import yfinance as yf
import pandas as pd
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from datetime import datetime, timedelta

def get_stock_data(symbol, interval='1m', hours_back=24):   # upravte dle potřeby
    end_date = datetime.now()
    start_date = end_date - timedelta(hours=hours_back) - timedelta(hours=0) # upravte dle potřeby
    return yf.download(symbol, interval=interval, start=start_date, end=end_date)


def simple_moving_average_strategy(data, short_window=10, long_window=50):
    signals = pd.DataFrame(index=data.index)
    signals['price'] = data['Close']
    signals['short_mavg'] = data['Close'].rolling(window=short_window, min_periods=1, center=False).mean()
    signals['long_mavg'] = data['Close'].rolling(window=long_window, min_periods=1, center=False).mean()
    signals['signal'] = 0.0
    signals['signal'][short_window:] = (signals['short_mavg'][short_window:] > signals['long_mavg'][short_window:]).astype(float)
    signals['positions'] = signals['signal'].diff()
    return signals

def update(frame):
    new_data = get_stock_data(stock_symbol, interval='1m', hours_back=30)
    signals = simple_moving_average_strategy(new_data)

    plt.clf()

    plt.plot(new_data['Close'], label=f'{stock_symbol} Price')

    if not signals.empty:
        plt.plot(signals['short_mavg'], label='Short MA', linestyle='-')
        plt.plot(signals['long_mavg'], label='Long MA', linestyle='-')

        buy_indices = signals.loc[signals.positions == 1.0].index
        buy_values = signals.short_mavg[signals.positions == 1.0]
        plt.scatter(buy_indices, buy_values, marker='^', color='g', label='Buy', alpha=1, s=100)

        sell_indices = signals.loc[signals.positions == -1.0].index
        sell_values = signals.short_mavg[signals.positions == -1.0]
        plt.scatter(sell_indices, sell_values, marker='v', color='r', label='Sell', alpha=1, s=100)

    plt.title(f'{stock_symbol} - Real-Time Moving Average Strategy')
    plt.xlabel('Date')
    plt.ylabel('Price')
    plt.legend()

stock_symbol = 'NVDA' # upravte na vaši zvolenou akcii

fig, ax = plt.subplots(figsize=(12, 8))
ani = FuncAnimation(fig, update, interval=3600000) # upravte dle potřeby (1000 = 1 sekunda)
plt.show()
            </pre>
            </div>

            <div class="code-box" id="code-box-2">
                <p>"Kódový blok" 2</p>
            </div>

            <div class="code-box" id="code-box-3">
                <p>"Kódový blok" 3</p>
            </div>
        </div>
    </section>
</body>
</html>
